import { CaseDefinition } from '@shadows/shared';

export const missingHeiress: CaseDefinition = {
  id: 'missing-heiress',
  title: 'The Missing Heiress',
  synopsis:
    'Vivian Ashworth, heiress to the Ashworth shipping fortune, vanished three nights ago from her Bel Air mansion during a dinner party. Her father, industrialist Harold Ashworth, is desperate — but everyone around Vivian has something to hide.',
  setting:
    '1947 Los Angeles — from the manicured lawns of Bel Air to the smoky jazz clubs of Central Avenue, the neon-lit bars of Hollywood Boulevard, and the fog-shrouded docks of San Pedro.',
  atmosphere:
    'Perpetual dusk. Rain threatens but never quite falls. Cigarette smoke curls through every room. Jazz drifts from somewhere unseen. Trust is a currency nobody can afford.',
  solution:
    'Vivian staged her own disappearance with help from her lover, jazz musician Marcus Cole. She discovered her father was smuggling weapons through Ashworth Shipping and planned to go to the authorities. Harold, learning of her intentions, was going to have her committed to a sanitarium. Marcus helped her escape to San Francisco with evidence of the smuggling operation.',

  npcs: [
    {
      id: 'harold',
      name: 'Harold Ashworth',
      role: 'Vivian\'s father, shipping magnate',
      locationId: 'mansion',
      personality: {
        voice: 'Commanding, patrician, every word measured like a business transaction',
        speechPatterns: [
          'Speaks in clipped sentences',
          'Uses financial metaphors',
          'Never asks — demands',
          'Refers to people by their last names',
        ],
        backstory:
          'Built Ashworth Shipping from nothing. Lost his wife to illness ten years ago. Controls everything in his world — except Vivian. Has been smuggling arms to overseas buyers since the war ended.',
        mannerisms: [
          'Adjusts cufflinks when lying',
          'Pours whiskey mid-conversation without offering',
          'Stands at windows looking out, never at you',
        ],
      },
      relationships: [
        { npcId: 'dorothy', nature: 'Employs her; trusts her completely', knownByPlayer: false },
        { npcId: 'marcus', nature: 'Despises him; tried to keep him from Vivian', knownByPlayer: false },
        { npcId: 'frank', nature: 'Pays him to handle "complications"', knownByPlayer: false },
      ],
      knowledgeBoundaries: [
        {
          clueId: 'vivian-argument',
          revealThreshold: 20,
          deflectionHint: 'Dismiss any suggestion of family conflict',
          revealGuidance: 'Admit to a heated argument about "her lifestyle choices" — keep it vague',
        },
        {
          clueId: 'shipping-records',
          revealThreshold: 80,
          deflectionHint: 'Become aggressive and threatening if asked about business',
          revealGuidance: 'Will never willingly reveal this — only slip up under extreme pressure',
        },
        {
          clueId: 'sanitarium-plan',
          revealThreshold: 90,
          deflectionHint: 'Express only concern for Vivian\'s "wellbeing"',
          revealGuidance: 'Under extreme pressure, let slip about "arrangements for her care"',
        },
      ],
      trustLevel: 30,
      mood: 'imperious but worried',
      introduced: false,
    },
    {
      id: 'dorothy',
      name: 'Dorothy Mills',
      role: 'Head housekeeper at the Ashworth mansion, 20 years of service',
      locationId: 'mansion',
      personality: {
        voice: 'Quiet, observant, speaks in careful understatements',
        speechPatterns: [
          'Trails off when approaching dangerous truths',
          'Uses "one might say" constructions',
          'References the past fondly',
          'Speaks of Vivian like a daughter',
        ],
        backstory:
          'Has worked for the Ashworths since before Vivian was born. Loved Vivian\'s mother. Knows more than anyone about the household\'s secrets but values loyalty above all. Secretly helped Vivian and Marcus communicate.',
        mannerisms: [
          'Polishes silverware while talking',
          'Looks toward Vivian\'s room when emotional',
          'Lowers her voice when sharing anything meaningful',
        ],
      },
      relationships: [
        { npcId: 'harold', nature: 'Loyal servant, but her true loyalty is to Vivian', knownByPlayer: false },
        { npcId: 'marcus', nature: 'Passed messages between him and Vivian', knownByPlayer: false },
      ],
      knowledgeBoundaries: [
        {
          clueId: 'love-letters',
          revealThreshold: 40,
          deflectionHint: 'Mention Vivian had "a private life, as young women do"',
          revealGuidance: 'Show the player a hidden letter from Marcus, tucked in a book',
        },
        {
          clueId: 'night-of-disappearance',
          revealThreshold: 30,
          deflectionHint: 'Say the evening was "perfectly normal" with slight hesitation',
          revealGuidance: 'Reveal she heard Vivian\'s car leave at 2 AM, not during the party',
        },
        {
          clueId: 'vivian-argument',
          revealThreshold: 25,
          deflectionHint: 'Look away and change the subject',
          revealGuidance: 'Describe overhearing a terrible argument between Harold and Vivian about "the shipping business"',
        },
      ],
      trustLevel: 40,
      mood: 'worried and conflicted',
      introduced: false,
    },
    {
      id: 'marcus',
      name: 'Marcus Cole',
      role: 'Jazz trumpet player at The Blue Moon club',
      locationId: 'blue-moon',
      personality: {
        voice: 'Cool, musical, speaks in rhythms — sometimes lyrical, sometimes staccato',
        speechPatterns: [
          'Uses jazz and music metaphors',
          'Speaks in fragments when nervous',
          'Becomes eloquent when passionate',
          'Deflects with humor',
        ],
        backstory:
          'Brilliant musician from Central Avenue. Fell in love with Vivian when she came to the club. Helped her escape when she showed him evidence of her father\'s smuggling. Knows where she is but would die before telling.',
        mannerisms: [
          'Taps rhythms on surfaces',
          'Plays with his trumpet mouthpiece when thinking',
          'Makes direct eye contact when telling the truth, looks at his hands when lying',
        ],
      },
      relationships: [
        { npcId: 'harold', nature: 'Harold threatened his life', knownByPlayer: false },
        { npcId: 'dorothy', nature: 'Grateful to her for passing messages', knownByPlayer: false },
        { npcId: 'frank', nature: 'Frank has been watching him', knownByPlayer: false },
      ],
      knowledgeBoundaries: [
        {
          clueId: 'vivian-alive',
          revealThreshold: 70,
          deflectionHint: 'Play it cool — "I play music, man, that\'s all I know"',
          revealGuidance: 'Hint that Vivian is safe, without saying where',
        },
        {
          clueId: 'love-letters',
          revealThreshold: 30,
          deflectionHint: 'Acknowledge knowing Vivian only as "a fan of the music"',
          revealGuidance: 'Admit to the relationship, show genuine emotion',
        },
        {
          clueId: 'escape-plan',
          revealThreshold: 85,
          deflectionHint: 'Shut down completely — "I think we\'re done talking"',
          revealGuidance: 'Reveal he helped Vivian leave town, but only if convinced the player is on Vivian\'s side',
        },
      ],
      trustLevel: 15,
      mood: 'guarded and wary',
      introduced: false,
    },
    {
      id: 'frank',
      name: 'Frank Novak',
      role: 'Private investigator, works for Harold Ashworth',
      locationId: 'docks',
      personality: {
        voice: 'Gravel-voiced, sardonic, ex-cop who\'s seen too much',
        speechPatterns: [
          'Short, punchy sentences',
          'Dark humor',
          'Calls everyone "pal" or "sweetheart"',
          'Quotes nobody in particular',
        ],
        backstory:
          'Former LAPD detective, now does Harold\'s dirty work. Knows about the smuggling but is paid well to look the other way. Was tasked with finding Vivian but is having second thoughts — he liked the kid.',
        mannerisms: [
          'Chain-smokes Lucky Strikes',
          'Leans against things instead of standing',
          'Checks over his shoulder habitually',
        ],
      },
      relationships: [
        { npcId: 'harold', nature: 'On his payroll, increasingly uncomfortable with it', knownByPlayer: false },
        { npcId: 'marcus', nature: 'Has been tailing him on Harold\'s orders', knownByPlayer: false },
      ],
      knowledgeBoundaries: [
        {
          clueId: 'shipping-records',
          revealThreshold: 60,
          deflectionHint: 'Change the subject to something else at the docks',
          revealGuidance: 'Mention "funny cargo" coming through at night, tip about warehouse 7',
        },
        {
          clueId: 'frank-surveillance',
          revealThreshold: 35,
          deflectionHint: 'Claim to be at the docks "enjoying the sea air"',
          revealGuidance: 'Admit Harold hired him to watch Marcus',
        },
        {
          clueId: 'sanitarium-plan',
          revealThreshold: 70,
          deflectionHint: 'Get uncomfortable and suggest you "ask the old man yourself"',
          revealGuidance: 'Reveal Harold was arranging to have Vivian committed — "to keep her quiet"',
        },
      ],
      trustLevel: 20,
      mood: 'cynical but conflicted',
      introduced: false,
    },
  ],

  locations: [
    {
      id: 'mansion',
      name: 'Ashworth Mansion, Bel Air',
      description:
        'A sprawling Spanish Colonial estate. Manicured hedges, a circular driveway, and windows that watch you back. The kind of money that builds walls.',
      atmosphere: 'Oppressive elegance. Every surface gleams but nothing feels warm.',
      npcIds: ['harold', 'dorothy'],
      searchableClueIds: ['guest-list', 'vivian-room'],
      connectedLocationIds: ['blue-moon', 'docks', 'office'],
      visited: false,
    },
    {
      id: 'blue-moon',
      name: 'The Blue Moon Jazz Club, Central Avenue',
      description:
        'A basement club where the music is hot and the lights are low. Smoke hangs in layers. The band plays like they\'re outrunning something.',
      atmosphere: 'Alive with music and danger. Every booth holds a secret.',
      npcIds: ['marcus'],
      searchableClueIds: ['matchbook'],
      connectedLocationIds: ['mansion', 'docks'],
      visited: false,
    },
    {
      id: 'docks',
      name: 'San Pedro Docks, Warehouse District',
      description:
        'Fog rolls in off the harbor. Ships creak against their moorings. Warehouse 7 has a new padlock.',
      atmosphere: 'Desolate, threatening. The fog swallows sound.',
      npcIds: ['frank'],
      searchableClueIds: ['shipping-records'],
      connectedLocationIds: ['mansion', 'blue-moon'],
      visited: false,
    },
    {
      id: 'office',
      name: 'Harold\'s Private Study',
      description:
        'Mahogany desk, leather chairs, a wall of shipping schedules. A locked drawer rattles when you bump the desk.',
      atmosphere: 'The smell of cigars and old money. Power concentrated in four walls.',
      npcIds: [],
      searchableClueIds: ['sanitarium-papers'],
      connectedLocationIds: ['mansion'],
      visited: false,
    },
  ],

  clues: [
    {
      id: 'guest-list',
      name: 'Dinner Party Guest List',
      description: 'The guest list from the night Vivian disappeared. Marcus Cole\'s name is crossed out.',
      sourceId: 'mansion',
      trustThreshold: 0,
      prerequisites: [],
      discovered: false,
      tags: ['document'],
    },
    {
      id: 'vivian-room',
      name: 'Vivian\'s Ransacked Room',
      description: 'Her room has been searched — but by whom? A suitcase is missing from the closet.',
      sourceId: 'mansion',
      trustThreshold: 0,
      prerequisites: [],
      discovered: false,
      tags: ['physical'],
    },
    {
      id: 'vivian-argument',
      name: 'The Argument',
      description: 'Harold and Vivian had a terrible fight the day before she disappeared, about "the family business."',
      sourceId: 'harold',
      trustThreshold: 20,
      prerequisites: [],
      discovered: false,
      tags: ['testimony'],
    },
    {
      id: 'night-of-disappearance',
      name: 'The 2 AM Departure',
      description: 'Dorothy heard Vivian\'s car leave at 2 AM — hours after the party ended. She left on her own.',
      sourceId: 'dorothy',
      trustThreshold: 30,
      prerequisites: [],
      discovered: false,
      tags: ['testimony'],
    },
    {
      id: 'love-letters',
      name: 'Love Letters from Marcus',
      description: 'Hidden letters revealing a passionate relationship between Vivian and Marcus Cole.',
      sourceId: 'dorothy',
      trustThreshold: 40,
      prerequisites: ['vivian-room'],
      discovered: false,
      tags: ['document', 'physical'],
    },
    {
      id: 'matchbook',
      name: 'The Blue Moon Matchbook',
      description: 'A matchbook from The Blue Moon with a phone number written inside. The number is for a San Francisco hotel.',
      sourceId: 'blue-moon',
      trustThreshold: 0,
      prerequisites: [],
      discovered: false,
      tags: ['physical'],
    },
    {
      id: 'frank-surveillance',
      name: 'Frank\'s Surveillance Notes',
      description: 'Frank has been following Marcus on Harold\'s orders. His notes show Marcus visiting the train station.',
      sourceId: 'frank',
      trustThreshold: 35,
      prerequisites: [],
      discovered: false,
      tags: ['document', 'testimony'],
    },
    {
      id: 'shipping-records',
      name: 'Suspicious Shipping Manifests',
      description: 'Altered manifests in Warehouse 7 showing weapons disguised as machine parts, bound for overseas.',
      sourceId: 'docks',
      trustThreshold: 60,
      prerequisites: ['frank-surveillance'],
      discovered: false,
      tags: ['document', 'physical'],
    },
    {
      id: 'sanitarium-plan',
      name: 'Sanitarium Commitment Papers',
      description: 'Pre-signed commitment papers to have Vivian institutionalized. Dated two days before her disappearance.',
      sourceId: 'office',
      trustThreshold: 70,
      prerequisites: ['vivian-argument'],
      discovered: false,
      tags: ['document'],
    },
    {
      id: 'sanitarium-papers',
      name: 'Dr. Whitmore\'s Correspondence',
      description: 'Letters between Harold and a Dr. Whitmore at Pacific View Sanitarium discussing "the arrangements."',
      sourceId: 'office',
      trustThreshold: 0,
      prerequisites: ['sanitarium-plan'],
      discovered: false,
      tags: ['document'],
    },
    {
      id: 'vivian-alive',
      name: 'Vivian is Alive',
      description: 'Marcus lets slip that Vivian is safe — she chose to disappear.',
      sourceId: 'marcus',
      trustThreshold: 70,
      prerequisites: ['love-letters', 'night-of-disappearance'],
      discovered: false,
      tags: ['testimony'],
    },
    {
      id: 'escape-plan',
      name: 'The Escape Plan',
      description: 'Vivian and Marcus planned her disappearance together. She\'s in San Francisco with evidence of the smuggling.',
      sourceId: 'marcus',
      trustThreshold: 85,
      prerequisites: ['vivian-alive', 'shipping-records'],
      discovered: false,
      tags: ['testimony'],
    },
  ],

  clueConnections: [
    { fromClueId: 'guest-list', toClueId: 'love-letters', relationship: 'Marcus was supposed to be at the party — why was he removed?' },
    { fromClueId: 'vivian-room', toClueId: 'night-of-disappearance', relationship: 'Missing suitcase + 2 AM departure = planned escape' },
    { fromClueId: 'love-letters', toClueId: 'vivian-alive', relationship: 'The depth of their relationship suggests Marcus knows more' },
    { fromClueId: 'vivian-argument', toClueId: 'sanitarium-plan', relationship: 'The argument was about the business — Harold\'s response was extreme' },
    { fromClueId: 'frank-surveillance', toClueId: 'shipping-records', relationship: 'Frank\'s work for Harold connects to the docks' },
    { fromClueId: 'shipping-records', toClueId: 'escape-plan', relationship: 'This is what Vivian was running from — and what she took with her' },
    { fromClueId: 'sanitarium-plan', toClueId: 'escape-plan', relationship: 'Vivian fled to avoid being silenced' },
  ],
};
